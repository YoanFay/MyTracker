{% extends 'base.html.twig' %}

{% block title %}Épisodes{% endblock %}

{% block body %}

    <table class="table table-hover">
        <thead class="thead-light">
        <tr>
            <th scope="col">Nom</th>
            <th scope="col">Temps d'écoute</th>
        </tr>
        </thead>

        {% for dateKey, data in listTags %}
            <tbody>

            <tr class="table-secondary">
                <th colspan="4">
                    {{ dateKey|replace({'saison': 'Saison', 'type': 'Type', 'annee': 'Année', 'animeTag': 'Tag spécifique aux anime', 'origin': 'Origine'}) }}
                </th>
            </tr>
            </tbody>
            <tbody id="row{{ dateKey }}">
            <div>
                {% for tag in data %}
                    {% if tag.LISTEN != null %}
                        <tr>
                            <td>
                                <a class="text-decoration-none text-black" href="{{ path('music_tags_details', {'id': tag.ID}) }}">{{ tag.NAME }}</a>
                            </td>
                            <td>{{ tag.LISTEN|MsToMS }}</td>
                        </tr>
                    {% endif %}
                {% endfor %}
            </div>
            </tbody>
        {% endfor %}
    </table>

{% endblock %}

{% block javascript %}
    <script>

        function displayRow(id) {
            console.log(id);
            var row = $('#row' + id);

            row.toggleClass('d-none');
        }

    </script>
{% endblock %}
